\frame
{
  \frametitle{C 小班课 by \itshape gyh20}

 	考虑我们如何处理一次询问. \pause

	任意时刻，一些小班是满员的，其余的未满员. 我们可以假设每个人都去到自己意向最高的小班，直到某一个小班变满，可以发现，总共只会有 $m$ 次小班变满的过程. 每一次我们可以直接二分查找找到这个位置. \pause

	具体二分查找时，我们处理的询问为，在区间 $l\sim r$ 中有多少人满足其在小班集合 $S$ （$S$ 为当前未满员的小班构成的集合）中优先度最高的是 $x$. 可以发现这个区间信息量是 $O(2^m m)$ 的，使用线段树维护，总复杂度为 $O(2^m m n\log n+qm^2\log n)$.

}
